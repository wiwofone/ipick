!function(i){i.fn.ipick=function(t){var n={source:"icons.json",pickerTitle:"Choose icon",iconElement:"i",iconAttribute:"class",iconsPerPage:48,navElement:"button",navElementClass:"",closeText:"Close",previousText:"Previous",nextText:"Next",onPick:function(){},onClose:function(){}},e=i.extend({},n,t),c=function(t){firstTab=t-1,0==i('*[data-ipick-tab="'+firstTab+'"').length?i(".ipick-nav-previous").hide():i(".ipick-nav-previous").show(),lastTab=t+1,0==i('*[data-ipick-tab="'+lastTab+'"').length?i(".ipick-nav-next").hide():i(".ipick-nav-next").show()};i.fn.ipick.close=function(){i(".ipick-container").remove(),e.onClose.call(this)},i.fn.ipick.populatePicker=function(t,n){var a=[];i.getJSON(t,function(i){a=i.icons,n.remove(".ipick-icons-tab");var t='<div class="ipick-icons-tab ipick-icons-tab-current" data-ipick-tab="1"><table><tr>',o=0,r=0,s=1;a.forEach(function(i){0==o%8&&(t+="</tr><tr>"),0==r%e.iconsPerPage&&0!=r&&(t+="</tr></table></div>",a.length>o&&(o=0,s++,t+='<div class="ipick-icons-tab" data-ipick-tab="'+s+'"><table><tr>')),t+="<td><"+e.iconElement+' data-iconpick-name="'+i+'" '+e.iconAttribute+'="'+i+'"></'+e.iconElement+"></td>",o++,r++}),r==a.length&&(t+="</tr></table></div>"),n.find(".ipick-icons-tabs-container").html(t),c(0)}).fail(function(){n.find(".ipick-icons-tabs-container").html("No icons were found.")})};var a=function(t){$element=i(this),t.preventDefault(),i(".ipick-container").remove();var n=document.createElement("div");$picker=jQuery(n),$picker.addClass("ipick-container"),$picker.html('<div class="ipick-icons-tabs-container"></div><div class="ipick-navigation"></div>'),""!=e.pickerTitle&&$picker.prepend("<h1>"+e.pickerTitle+"</h1>");var a="<"+e.navElement+' class="ipick-nav-close '+e.navElementClass+'">'+e.closeText+"</"+e.navElement+">"+"<"+e.navElement+' class="ipick-nav-next '+e.navElementClass+'">'+e.nextText+"</"+e.navElement+"> <"+e.navElement+' class="ipick-nav-previous '+e.navElementClass+'">'+e.previousText+"</"+e.navElement+">";$picker.find(".ipick-navigation").html(a),i.fn.ipick.populatePicker(e.source,$picker),$picker.on("click",".ipick-nav-close",function(){i.fn.ipick.close()}),$picker.on("click",".ipick-nav-previous",function(){$currentTab=i(".ipick-icons-tab-current"),prevTab=$currentTab.data("ipick-tab")-1,$currentTab.removeClass("ipick-icons-tab-current"),i('*[data-ipick-tab="'+prevTab+'"').addClass("ipick-icons-tab-current"),c(prevTab)}),$picker.on("click",".ipick-nav-next",function(){$currentTab=i(".ipick-icons-tab-current"),nextTab=$currentTab.data("ipick-tab")+1,$currentTab.removeClass("ipick-icons-tab-current"),i('*[data-ipick-tab="'+nextTab+'"').addClass("ipick-icons-tab-current"),c(nextTab)}),$picker.on("click",".fa",function(t){t.preventDefault();var n=i(this).data("iconpick-name");e.onPick.call($element,n),i.fn.ipick.close()}),$picker.css("top",i(this).offset().top+i(this).height()).css("left",i(this).offset().left).show(),i("body").prepend($picker)};return i(this).click(a),this}}(jQuery);
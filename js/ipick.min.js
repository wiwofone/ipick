(function(e){e.fn.ipick=function(t){var n={source:"icons.json",pickerTitle:"Choose icon",iconElement:"i",iconAttribute:"class",iconsPerPage:48,navElement:"button",navElementClass:"",closeText:"Close",previousText:"Previous",nextText:"Next",onCreate:function(){},onPick:function(){},onClose:function(){}};var r=e.extend({},n,t);var i=function(t){firstTab=t-1;if(e('*[data-ipick-tab="'+firstTab+'"').length==0){e(".ipick-nav-previous").hide()}else{e(".ipick-nav-previous").show()}lastTab=t+1;if(e('*[data-ipick-tab="'+lastTab+'"').length==0){e(".ipick-nav-next").hide()}else{e(".ipick-nav-next").show()}};e.fn.ipick.close=function(){e(".ipick-container").remove();r.onClose.call(this);};e.fn.ipick.populatePicker=function(t,n){var s=[];e.getJSON(t,function(e){s=e.icons;n.remove(".ipick-icons-tab");var t='<div class="ipick-icons-tab ipick-icons-tab-current" data-ipick-tab="1"><table><tr>';var o=0;var u=0;var a=1;s.forEach(function(e){if(o%8==0){t+="</tr><tr>"}if(u%r.iconsPerPage==0&&u!=0){t+="</tr></table></div>";if(s.length>o){o=0;a++;t+='<div class="ipick-icons-tab" data-ipick-tab="'+a+'"><table><tr>'}}t+="<td><"+r.iconElement+' data-iconpick-name="'+e+'" '+r.iconAttribute+'="'+e+'"></'+r.iconElement+"></td>";o++;u++});if(u==s.length){t+="</tr></table></div>"}n.find(".ipick-icons-tabs-container").html(t);i(0)}).fail(function(){n.find(".ipick-icons-tabs-container").html("No icons were found.")})};var s=function(t){$element=e(this);t.preventDefault();e(".ipick-container").remove();var n=document.createElement("div");$picker=jQuery(n);$picker.addClass("ipick-container");$picker.html('<div class="ipick-icons-tabs-container"></div>'+'<div class="ipick-navigation"></div>');if(r.pickerTitle!=""){$picker.prepend("<h1>"+r.pickerTitle+"</h1>")}var s="<"+r.navElement+' class="ipick-nav-close '+r.navElementClass+'">'+r.closeText+"</"+r.navElement+">"+"<"+r.navElement+' class="ipick-nav-next '+r.navElementClass+'">'+r.nextText+"</"+r.navElement+"> <"+r.navElement+' class="ipick-nav-previous '+r.navElementClass+'">'+r.previousText+"</"+r.navElement+">";$picker.find(".ipick-navigation").html(s);e.fn.ipick.populatePicker(r.source,$picker);$picker.on("click",".ipick-nav-close",function(){e.fn.ipick.close()});$picker.on("click",".ipick-nav-previous",function(){$currentTab=e(".ipick-icons-tab-current");prevTab=$currentTab.data("ipick-tab")-1;$currentTab.removeClass("ipick-icons-tab-current");e('*[data-ipick-tab="'+prevTab+'"').addClass("ipick-icons-tab-current");i(prevTab)});$picker.on("click",".ipick-nav-next",function(){$currentTab=e(".ipick-icons-tab-current");nextTab=$currentTab.data("ipick-tab")+1;$currentTab.removeClass("ipick-icons-tab-current");e('*[data-ipick-tab="'+nextTab+'"').addClass("ipick-icons-tab-current");i(nextTab)});$picker.on("click",".fa",function(t){t.preventDefault();var n=e(this).data("iconpick-name");r.onPick.call($element,n);e.fn.ipick.close()});$picker.css("top",e(this).offset().top+e(this).height()).css("left",e(this).offset().left).show();e("body").prepend($picker);r.onCreate.call(this)};e(this).click(s);return this}})(jQuery)